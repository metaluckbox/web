(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{1283:function(t,n,e){t.exports=e.p+"img/eth.98cba94.png"},1459:function(t,n,e){var content=e(1791);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,e(120).default)("208068c8",content,!0,{sourceMap:!1})},1786:function(t,n,e){t.exports=e.p+"img/minting.726e1b0.png"},1787:function(t,n,e){t.exports=e.p+"img/reduce.ce5e8f8.png"},1788:function(t,n,e){t.exports=e.p+"img/add.bda6c8f.png"},1789:function(t,n){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAZCAYAAAArK+5dAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAMbSURBVHgB3VRNTxNRFL1T2s4MirQbEk0K7cIFK8HEpVgWuhT0DwArurITP1mQdEhYmJgIJkZdGIFfIDsTFzK4gBATW0wUo4sWprULkX53Zjqdud5aW0mZTok7Pclk5s2975x33z3vAfzrYDolvCkULqnV6rUKwIiG6NUAUDWMnIoYUwCke319K38lsEHERChqphmsIEqqaW7rRKpSjMgHaDxM7zF6EiVdn3vY379sxeO0+rlZKERoxREDYAURA1e93oRVnphO+3XTnDS6ul5MJ5Mjmq7fXA4EsmCHLSJ/m89nXufzk3BMhEgoFE/Ghc/JqG3iZj4/QeS4lskEreLP9vfH5raSE1YxYSftn4nKB+LG3sLh/47GB5H6K7U9R5wb9XolKxKPw7HKF3H5/fy3gdbY4uDpBFeE65zKCA9eycEjAiZAsErvy729InSAVtUszSFe9EmcBtJJFSJHBNDpvEGNlcAGCHXbsU4W2+XwJXzEl2FoaSnuaQrQ9ngqpjlE1uvkaTJV+wpqcBcMiVPBc1J1DjUFCgDniJwhf8XAvgKGYewrmJoKZElgt7uM/qZAbe+puTDl9dp7+LdKJ7B0Gjn1kEBO13PkIHieyQzYTawidl4AgdeYU5zOJGrf9ZPsciWoB6iqaoBGu+0m5g1jtNSD/vOzZ9rmrIlpP6tWvU6zLvCrgtrWUA/WK11dY2CD76VSIus2JLucExUjyCmQvTDvk5oCNVAPVhXESSFet1cr4uQ0f09P1PfDdRC9/ecgtcJVhYhbZ1Yb46ZA0eVaoYsr62bZiOVMjwecDkevXY+378hhlprL6w7RMmEmnQ4KqRROy3LYKr5A18nsO+vVR4Xk0KewbH4NydYLbCCUSkVCCRmFnQ6Jh8lv7Y1/DCcPvoTkxdaY5Ymka1dgFVzgFYh1F0G4e8W3bpW3OSsH3TqEWQ3G2QqIZ5/45o4lUIO4SXbTjAhfxklOwQSvMNHuEnzgVBNYjRngFEeQ15AsCesuIh98XHfNsQUaePoy7ee06hhXxlFOYTxUFfIa5NwaxLgKSMP3rYn/H/wEzQGYQ5BOzh0AAAAASUVORK5CYII="},1790:function(t,n,e){"use strict";e(1459)},1791:function(t,n,e){var o=e(119),r=e(652),m=e(1792),c=e(1793),d=e(1794),l=e(1795),x=o(!1),v=r(m),f=r(c),h=r(d),w=r(l);x.push([t.i,".mintBox[data-v-268be6da]{margin:auto}.mintBox .contentBox[data-v-268be6da]{position:relative;height:100vh}.mintBox .content[data-v-268be6da]{position:absolute;top:40%;left:50%;transform:translate(-50%,-50%);width:100%;z-index:12;color:#fff;display:flex;justify-content:space-between;align-items:center}.mintBox .leftMint[data-v-268be6da],.mintBox .rightMint[data-v-268be6da]{background:url("+v+") no-repeat;width:412.6px;height:541px;background-size:100% 100%;text-align:left;padding:0 50px}.mintBox .leftMint h3[data-v-268be6da],.mintBox .rightMint h3[data-v-268be6da]{margin-top:100px;font-size:46px;color:#fff;white-space:nowrap}.mintBox .leftMint p[data-v-268be6da],.mintBox .rightMint p[data-v-268be6da]{font-size:20px;margin-bottom:8px}.mintBox .leftMint p label[data-v-268be6da],.mintBox .rightMint p label[data-v-268be6da]{color:#8f8f8f;font-size:16px;margin-right:32px;display:block}.mintBox .leftMint[data-v-268be6da]{position:relative}.mintBox .leftMint .pot label[data-v-268be6da]{display:inline-block;margin-right:12px}.mintBox .leftMint .socialContact[data-v-268be6da]{text-align:center;margin-top:60px}.mintBox .leftMint .socialContact img[data-v-268be6da]{width:60px}.mintBox .rightMint .tips[data-v-268be6da]{margin-top:50px;font-size:14px;color:#8f8f8f;width:100%}.mintBox .rightMint .tips img[data-v-268be6da]{float:left;margin-right:8px}.mintBox .mint[data-v-268be6da]{text-align:center}.mintBox .mint .minting[data-v-268be6da]{font-size:14px;line-height:14px}.mintBox .mint .minting img[data-v-268be6da]{width:33px}.mintBox .mint .minted[data-v-268be6da]{display:flex;justify-content:center;align-items:center}.mintBox .mint .minted li[data-v-268be6da]{margin:0 35px}.mintBox .mint .minted li label[data-v-268be6da]{font-size:18px}.mintBox .mint .minted li h3[data-v-268be6da]{font-size:32px;color:#fff}.mintBox .mint .minted li img[data-v-268be6da]{width:32px;margin-right:20px;margin-top:-6px}.mintBox .mint .countDown[data-v-268be6da]{background:url("+f+") no-repeat;width:633px;background-size:100% 100%;padding-top:34px;padding-bottom:30px}.mintBox .mint .countDown h2[data-v-268be6da]{color:#fff;font-size:45px;font-weight:700;margin-bottom:22px;padding-top:10px}.mintBox .mint .countDown .times[data-v-268be6da]{margin-bottom:20px;padding-bottom:20px}.mintBox .mint .countDown .times time[data-v-268be6da]{width:114px;color:#fff;background:linear-gradient(180deg,rgba(91,218,243,0) 50%,#60d3ed),linear-gradient(180deg,#0f404b,rgba(15,64,75,0) 50%)}.mintBox .mint .countDown .times span[data-v-268be6da],.mintBox .mint .countDown .times time[data-v-268be6da]{display:inline-block;height:116px;line-height:116px;font-size:70px}.mintBox .mint .countDown .utc[data-v-268be6da]{font-size:20px;color:#fff}.mintBox .mint div[data-v-268be6da]{display:flex;justify-content:center;align-items:center}.mintBox .mint div strong[data-v-268be6da]{font-size:35px;margin-right:38px}.mintBox .mint div p[data-v-268be6da]{display:flex;justify-content:center;align-items:center}.mintBox .mint div p input[data-v-268be6da]{width:130px;height:52px;line-height:38px;background:url("+h+") no-repeat;background-size:100% 100%;border:none;outline:none;color:#fff;font-size:16px;text-align:center;padding:0 10px}.mintBox .mint .mints[data-v-268be6da]{color:#000;width:380px;height:52px;color:#fff;font-size:16px;line-height:52px;margin:27px auto auto;cursor:pointer;background:url("+w+") no-repeat;background-size:100% 100%}.mintBox .mint .pointer[data-v-268be6da]{cursor:no-drop}@media only screen and (max-width:1800px){.mintBox .content[data-v-268be6da]{top:50%}.mintBox .mint .countDown[data-v-268be6da]{width:540px}.mintBox .mint .countDown h2[data-v-268be6da]{font-size:30px;margin-bottom:0}.mintBox .mint .countDown .times time[data-v-268be6da]{width:90px;height:90px;line-height:90px;font-size:50px}.mintBox .mint .minted li h3[data-v-268be6da]{font-size:27px}.mintBox .leftMint h3[data-v-268be6da],.mintBox .rightMint h3[data-v-268be6da]{font-size:33px}.mintBox .rightMint .tips[data-v-268be6da]{margin-top:60px}}",""]),t.exports=x},1792:function(t,n,e){t.exports=e.p+"img/1.a57d5c4.png"},1793:function(t,n,e){t.exports=e.p+"img/2.b7dbeee.png"},1794:function(t,n,e){t.exports=e.p+"img/input.704ec29.png"},1795:function(t,n,e){t.exports=e.p+"img/button.20ef8f8.png"},1833:function(t,n,e){"use strict";e.r(n);e(78),e(76),e(77),e(35),e(154),e(62),e(155);var o=e(73),r=e(30),m=(e(122),e(153),e(1225)),c=e(1318),d=e(1240),l=e.n(d),x=e(1446),v=e(1828),f=e(3),h=e.n(f);function w(object,t){var n=Object.keys(object);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(object);t&&(e=e.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),n.push.apply(n,e)}return n}function A(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?w(Object(source),!0).forEach((function(n){Object(o.a)(t,n,source[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):w(Object(source)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(source,n))}))}return t}var B={name:"IndexPage",components:{Head:m.default},mixins:[c.a],data:function(){return{}},mounted:function(){this.web3=new l.a(window.ethereum),this.contract=new this.web3.eth.Contract(x,this.contractAddr);var t=function(t){return t<=0?"00":t<10?"0"+t:t},n=function(t){return h()(1e3*parseInt(t)).format("YYYY-MM-DD HH:mm:ss")},e=this;setInterval(Object(r.a)(regeneratorRuntime.mark((function o(){var r,m,c,d,l,x,s;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,e.contract.methods.currentEpoch().call();case 2:return e.currentEpoch=o.sent,o.next=5,e.contract.methods.rounds(e.currentEpoch).call();case 5:r=o.sent,m=A({},r),c=parseInt(Date.now()/1e3),d=parseInt(m.lockTimestamp),l=parseInt((d-c)/60/60%24),x=parseInt((d-c)/60%60),s=parseInt((d-c)%60),e.itemDate={h:t(l),m:t(x),s:t(s),thisTimestamp:c,lockTimestamp:d},r.startTimestamp=n(r.startTimestamp),r.closeTimestamp=n(r.closeTimestamp),r.lockTimestamp=n(r.lockTimestamp),r.mainThisNum=r.endId-r.startId,e.result=r;case 18:case"end":return o.stop()}}),o)}))),1e3)},methods:{reduceEve:function(){this.mintNum-=1,this.mintNum<=0&&(this.mintNum=1)},pushEve:function(){""===this.mintNum&&(this.mintNum=0),this.mintNum+this.result.mainThisNum>=this.mintLimitPerRound||(this.mintNum+=1)},mint:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function n(){var e,o,r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e=t.web3,t.amount=e.utils.numberToHex(e.utils.toWei(String(t.mintNum*(t.mintPrice/t.singNum)),"ether")),!(t.itemDate.lockTimestamp>=t.itemDate.thisTimestamp&&t.result.mainThisNum<t.mintLimitPerRound)){n.next=11;break}return o=t.contract.methods.mint,n.next=6,t.estimateGas(o(t.mintNum),t.amount);case 6:r=n.sent,console.log(r),o(t.mintNum).send({from:t.accounts[0],gas:r,value:t.amount}).on("confirmation",(function(t,n){console.log(t,n)})).then((function(t){console.log(t),v.a.success({message:"MetaMask",description:"Minting is successful"})})).catch((function(t){console.log(t),v.a.error({message:"MetaMask",description:"Minting failed. Please try again."})})),n.next=12;break;case 11:v.a.error({message:"Mint",description:"Ended"});case 12:case"end":return n.stop()}}),n)})))()}}},_=(e(1790),e(61)),component=Object(_.a)(B,(function(){var t=this,n=t.$createElement,o=t._self._c||n;return o("div",[o("div",[o("Head"),t._v(" "),o("div",{staticClass:"mintBox container"},[o("div",{staticClass:"contentBox"},[o("div",{staticClass:"content"},[o("div",{staticClass:"leftMint"},[o("h3",[t._v("Previous Round")]),t._v(" "),o("p",{staticClass:"pot"},[o("strong",[t._v("Prize Pot ï¼š"+t._s(t.jackpotAmount/t.singNum)+" ETH ")])]),t._v(" "),o("p",{staticClass:"socialContact"})]),t._v(" "),o("div",{staticClass:"mint"},[t.itemDate.lockTimestamp>=t.itemDate.thisTimestamp&&t.result.mainThisNum<t.mintLimitPerRound?t._e():o("p",{staticClass:"minting"},[o("img",{attrs:{src:e(1786)}}),t._v("\n              Minting complete! Now you can trade freely.\n            ")]),t._v(" "),o("ul",{staticClass:"countDown"},[o("li",[o("h2",[t._v("Round "+t._s(t.currentEpoch))]),t._v(" "),o("p",{staticClass:"times"},[o("time",[t._v(" "+t._s(t.itemDate.h)+" ")]),t._v(" "),o("span",[t._v(":")]),t._v(" "),o("time",[t._v(" "+t._s(t.itemDate.m)+" ")]),t._v(" "),o("span",[t._v(":")]),t._v(" "),o("time",[t._v(" "+t._s(t.itemDate.s)+" ")])])])]),t._v(" "),o("ul",{staticClass:"minted"},[o("li",[o("label",[t._v("Minted")]),t._v(" "),o("h3",[t._v(t._s(t.result.mainThisNum)+"/"+t._s(t.mintLimitPerRound))])]),t._v(" "),o("li",[o("label",[t._v("Price")]),t._v(" "),o("h3",[o("img",{attrs:{src:e(1283)}}),t._v(t._s(t.mintPrice/t.singNum)+"\n                  ETH\n                ")])])]),t._v(" "),o("div",[o("p",[o("img",{attrs:{src:e(1787)},on:{click:t.reduceEve}}),t._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:t.mintNum,expression:"mintNum"}],attrs:{oninput:"value=value.replace(/^(0+)|[^\\d]+/g,'')",type:"text"},domProps:{value:t.mintNum},on:{input:function(n){n.target.composing||(t.mintNum=n.target.value)}}}),t._v(" "),o("img",{attrs:{src:e(1788)},on:{click:t.pushEve}})])]),t._v(" "),o("p",{staticClass:"mints",class:[t.itemDate.lockTimestamp>=t.itemDate.thisTimestamp&&t.result.mainThisNum<t.mintLimitPerRound?"":"pointer"],on:{click:t.mint}},[t._v("\n              Mint\n            ")])]),t._v(" "),o("div",{staticClass:"rightMint"},[o("h3",[t._v("Current Round")]),t._v(" "),o("p",[o("label",{staticStyle:{color:"#fff","font-size":"20px"}},[o("strong",[t._v("Prize Pot ï¼š "+t._s(t.result.jackpotAmount/t.singNum)+" ETH\n                ")])])]),t._v(" "),o("p",[o("label",[t._v("Trading Time")]),t._v(t._s(t.result.lockTimestamp))]),t._v(" "),o("p",[o("label",[t._v("Next Round Start Time")]),t._v(t._s(t.result.closeTimestamp)+"\n            ")]),t._v(" "),o("p",{staticClass:"tips"},[o("img",{attrs:{src:e(1789)}}),t._v(" "),o("span",[t._v("\n                After minting your NFT,you can freely trade on\n                "),o("a",{attrs:{target:"blank",href:"https://testnets.opensea.io/collection/nft-lottery-8sggaih0gx"}},[t._v("Opensea")]),t._v("\n                or Trade-in to\n                "),o("nuxt-link",{attrs:{to:"/nft"}},[t._v("Meta Luck Box")])],1)])])])])])],1)])}),[],!1,null,"268be6da",null);n.default=component.exports;installComponents(component,{Head:e(1225).default})}}]);